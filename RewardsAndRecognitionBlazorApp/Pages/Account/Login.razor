@page "/login"
@layout EmptyLayout
@using System.ComponentModel.DataAnnotations
@using RewardsAndRecognitionBlazorApp.Shared
@using RewardsAndRecognitionBlazorApp.ViewModels

<style>
    body {
        background: white;
        height: 100vh;
        margin: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        font-family: 'Segoe UI', sans-serif;
    }

    .main-card {
        width: 100%;
        height: 80%;
        background: white;
        border-radius: 20px;
        box-shadow: 0 8px 24px rgba(0,0,0,0.2);
        display: flex;
    }

    .left-side {
        flex: 1;
        background: #303f9f;
        color: white;
        border-radius: 20px 0 0 20px;
        padding: 60px;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
    }

    .left-side h1 { font-size: 36px; font-weight: bold; }
    .left-side p { font-size: 18px; margin-top: 20px; }
    .left-side i { font-size: 60px; margin-bottom: 20px; }

    .right-side {
        flex: 1;
        padding: 60px;
        display: flex;
        flex-direction: column;
        justify-content: center;
    }

    .form-floating > label { color: #555; }
    .form-control { border-radius: 10px; }
    .btn-primary { background-color: #3f51b5; border: none; border-radius: 10px; }
    .btn-primary:hover { background-color: #303f9f; }
    .text-danger { font-size: 0.9rem; }
    a { color: #3f51b5; }
    a:hover { text-decoration: underline; }
    .form-links { margin-top: 20px; }
    .password-toggle {
        position: absolute;
        top: 50%;
        right: 15px;
        transform: translateY(-50%);
        cursor: pointer;
        color: #888;
        z-index: 2;
    }
</style>

<link href="css/all.min.css" rel="stylesheet" />

<div class="main-card">
    <!-- Left Section -->
    <div class="left-side text-center">
        <i class="fas fa-award"></i>
        <h1>Welcome to</h1>
        <h1>Rewards & Recognition</h1>
        <p>Celebrate achievements. Empower talent. Reward excellence.</p>
    </div>

    <!-- Right Section (Login Form) -->
    <div class="right-side">
        <h2 class="mb-4 text-center">Login to Your Account</h2>
        <EditForm Model="@loginModel" OnValidSubmit="HandleLogin">
            <DataAnnotationsValidator />
            <ValidationSummary />

            <div class="form-floating mb-3">
                <InputText @bind-Value="loginModel.Email" class="form-control" autocomplete="username" placeholder="name@example.com" />
                <label>Email</label>
                <ValidationMessage For="@(() => loginModel.Email)" />
            </div>

            <div class="form-floating mb-3 position-relative">
                <InputText @bind-Value="loginModel.Password" type="@passwordInputType" class="form-control" id="password" autocomplete="current-password" placeholder="Password" />
                <label>Password</label>
                <ValidationMessage For="@(() => loginModel.Password)" />
                <span class="password-toggle">
                    <i class="fa @passwordToggleIcon" @onclick="TogglePasswordVisibility"></i>
                </span>
            </div>

            <div class="checkbox mb-3">
                <label>
                    <InputCheckbox @bind-Value="loginModel.RememberMe" class="form-check-input" />
                    Remember Me
                </label>
            </div>

            <button type="submit" class="w-100 btn btn-lg btn-primary" disabled="@isSubmitting">Log in</button>
            @if (!string.IsNullOrEmpty(errorMessage))
            {
                <div class="text-danger mt-2">@errorMessage</div>
            }
        </EditForm>
    </div>
</div>